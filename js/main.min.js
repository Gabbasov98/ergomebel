function setLabelPlace(){document.querySelectorAll(".fg input,.fg textarea,.fg-dynamic select").forEach(t=>{function a(){""!==t.value?t.classList.add("_filled"):t.classList.remove("_filled")}a(),t.onchange=()=>{a()}})}$("._tab").click((function(){let t=$(this).parents("._tabs-parent"),a=$(this).attr("data-tab");$(t).find("._tab").removeClass("_active"),$(this).addClass("_active"),$(t).find(".tab-content").removeClass("_active"),$(t).find("."+a).addClass("_active")})),$(".favourite-btn,.compare-btn,.cart-btn").click((function(){$(this).toggleClass("_added")})),$(document).on("click",".rating-input__item",(function(t){let a=parseInt($(this).attr("data-rating-value"));$(this).parent(".rating-input").attr("data-total-rating",a),$(this).siblings(".rating-input__field").val(a)})),setLabelPlace(),$(".qa-card__show").click((function(){$(this).parents(".qa-card").toggleClass("_active"),$(this).siblings(".qa-card__hidden").slideToggle()})),$(".cartcalc").each((function(t,a){let i=$(a).find(".ccalc-plus"),e=$(a).find(".ccalc-minus"),n=$(a).find("input");function l(){1===+$(n).val()?$(e).addClass("_disabled"):$(e).removeClass("_disabled")}$(e).click((function(t){let a=$(n).val();if(a>1){let t=+a-1;$(n).val(t),$(n).trigger("change")}else $(n).val(a);l(),t.stopImmediatePropagation()})),$(i).click((function(t){let a=+$(n).val()+1;$(n).val(a),$(n).trigger("change"),l(),t.stopImmediatePropagation()})),l()}));
$(".burger").click((function(){$(".header").toggleClass("_open"),$("body").toggleClass("fixed-body")}));
function Sliders(){let e=[];document.querySelectorAll(".slider").forEach((i,l)=>{i.setAttribute("data-slider-id",l);let r=i.classList.contains("_loop"),t=i.classList.contains("_nested");e[l]=new Swiper(`.slider[data-slider-id="${l}"] .swiper-container`,{slidesPerView:"auto",spaceBetween:0,watchSlidesProgress:!0,preventClicks:!0,a11y:!1,observer:!0,observeParents:!0,observeSlideChildren:!0,loop:r,nested:t,speed:700,navigation:{nextEl:`.slider[data-slider-id="${l}"] .swiper-button-next`,prevEl:`.slider[data-slider-id="${l}"] .swiper-button-prev`},pagination:{el:`.slider[data-slider-id="${l}"] .swiper-pagination`,type:"bullets",clickable:!0}})})}function gallery(){let e=[];document.querySelectorAll(".gallery").forEach((i,l)=>{i.setAttribute("data-slider-id",l);let r={mySwiper:{},mySwiper2:{}};r.mySwiper=new Swiper(`.gallery[data-slider-id="${l}"] .mySwiper`,{spaceBetween:0,slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0}),r.mySwiper2=new Swiper(`.gallery[data-slider-id="${l}"] .mySwiper2`,{spaceBetween:0,loop:!0,navigation:{nextEl:`.gallery[data-slider-id="${l}"] .swiper-button-next`,prevEl:`.gallery[data-slider-id="${l}"] .swiper-button-prev`},pagination:{el:`.gallery[data-slider-id="${l}"] .swiper-pagination`,type:"bullets",clickable:!0},thumbs:{swiper:r.mySwiper}}),e[l]=r})}function productSliders(){let e=[];document.querySelectorAll(".collection-slider").forEach((i,l)=>{i.setAttribute("data-slider-id",l);let r=i.classList.contains("_loop");e[l]=new Swiper(`.collection-slider[data-slider-id="${l}"] .collection-slider__container`,{wrapperClass:"collection-slider__wrapper",slideClass:"collection-slider__slide",slidesPerView:"auto",spaceBetween:0,watchSlidesProgress:!0,preventClicks:!0,a11y:!1,observer:!0,observeParents:!0,observeSlideChildren:!0,loop:r,speed:700,navigation:{nextEl:`.collection-slider[data-slider-id="${l}"] .collection-slider__nav .swiper-button-next`,prevEl:`.collection-slider[data-slider-id="${l}"] .collection-slider__nav .swiper-button-prev`}})})}Sliders(),gallery(),productSliders();
$(".info__more").click((function(){$(this).parents(".info").toggleClass("_show-all")}));
$(".sort .m-dropdown__show").click((function(){$(this).parents(".sort").hasClass("_open")?$(".m-dropdown").removeClass("_open"):($(".m-dropdown").removeClass("_open"),$(this).parents(".sort").addClass("_open"))})),$(".sort input").change((function(){let e=$(this).attr("data-value");$(this).parents(".sort").find(".m-dropdown__current").html(e),$(this).parents(".sort").addClass("_selected"),$(this).parents(".sort").removeClass("_open")})),$(document).mouseup((function(e){let o=$(".m-dropdown");o.is(e.target)||0!==o.has(e.target).length||$(o).hasClass("_open")&&$(o).removeClass("_open")})),$(".filter .filter-item").each((function(e,o){let t=$(o).find(".m-dropdown__show"),s=$(o).find("input");$(t).click((function(){$(o).hasClass("_open")?$(".m-dropdown").removeClass("_open"):($(".m-dropdown").removeClass("_open"),$(o).addClass("_open"))})),$(s).change((function(){0!==$(o).find(".m-check input:checked").length?($(o).addClass("_selected"),$(".filter__all input").prop("checked",!1)):$(o).removeClass("_selected")})),$(".m-dropdown__clear").click((function(){$(s).each((function(e,o){$(o).prop("checked",!1)})),$(o).removeClass("_selected")}))})),$(".filter__all input").change((function(){$(this).prop("checked")&&$(".filter .m-dropdown__options input").each((function(e,o){$(o).prop("checked",!1),$(o).trigger("change")}))})),$(".filter2-group__top").click((function(){$(this).parents(".filter2-group").toggleClass("_active"),$(this).siblings(".filter2-group__bottom").slideToggle()})),$(".filter2-group__more").click((function(){$(this).parents(".filter2-group").toggleClass("_show-all-checks")}));
let filterSliders=document.querySelectorAll(".filter-slider");filterSliders.forEach(t=>{const e=t.querySelector(".range-slider"),a=[t.querySelector(".range-slider__output1"),t.querySelector(".range-slider__output2")];let r=+t.getAttribute("data-start"),l=+t.getAttribute("data-start2"),o=+t.getAttribute("data-min"),i=+t.getAttribute("data-max");e&&noUiSlider.create(e,{start:[r,l],connect:!0,step:1,range:{min:o,max:i}}),e&&e.noUiSlider.on("update",(function(t,e){a[e].innerHTML=Math.round(t[e])}))}),$(".catalog-view__tab").click((function(){let t=$(this).attr("data-tab");console.log(t),$(".catalog-view__tab").removeClass("_active"),$(this).addClass("_active"),"_row"===t?$(".catalog").addClass("_row-view"):$(".catalog").removeClass("_row-view")})),$(".colors__more").click((function(){$(this).parents(".colors").toggleClass("_show-all")}));
let maps=document.querySelectorAll("[data-cord1]");ymaps.ready(init);let coord=[];function init(){maps.forEach(o=>{!function(o){let e=[+o.dataset.cord1,+o.dataset.cord2],a=new ymaps.Map(o,{center:e,zoom:18,controls:[]});a.controls.add("zoomControl"),a.behaviors.disable("scrollZoom");let t=new ymaps.Placemark(e,{},{iconLayout:"default#image",iconImageHref:"img/mark.svg",iconImageSize:[48,60],iconImageOffset:[-24,-30]});a.geoObjects.add(t)}(o)})}
$(".contacts-info__close").click((function(){$(this).parents(".contacts-info").removeClass("_active")})),$("._show-contact-map").click((function(){let t=$(this).attr("data-map-id");$(`#${t} .contacts-info`).addClass("_active"),openModal(t)}));
function clearFileInput(n){$(n).find(".file-input input").val(""),$(n).find(".file-input__output").remove()}$(".file-input input").change((function(n){const[t]=n.target.files;let i=t.name,e=$(this).parents(".file-input");$(e).append(`\n        <div class="file-input__output">\n            <span class="file-input__name">\n                ${i}\n            </span>\n            <button type="button" class="file-input__delete">\n                Удалить\n            </button>\n        </div>\n        `),$(".file-input__delete").click((function(){clearFileInput($(this).parents(".file-input"))}))}));
function formatTimerItems(n){n=n.toString().split("");let s="\n    \n    ";return n.forEach(n=>{s+=`\n        <span class="countdown__item"><span>${n}</span></span>\n        `}),s}$((function(){$.fn.extend({countdown:function(n){n=jQuery.extend({until:new Date},n);const s={days:0,hours:0,minutes:0,seconds:0};let t=n=>{const{days:s,hours:t,minutes:o,seconds:a}=n;this.empty(),this.append(`\n        <div class="countdownProp _days" date-count="${1==s?"day":"days"}">\n            <div class="countdownProp__item">\n                <span class="countdownProp__num">${formatTimerItems(s)}</span>\n                <span class="countdownProp__title">день</span>\n            </div> \n            <span class="_dots">:</span> \n        </div>\n        <div class="countdownProp" date-count="${1==t?"hour":"hours"}">\n            <div class="countdownProp__item">\n                <span class="countdownProp__num">${formatTimerItems(t<10?"0"+t:t)}</span> \n                <span class="countdownProp__title">час</span> \n            </div>\n            <span class="_dots">:</span> \n        </div>\n        <div class="countdownProp" date-count="${1==o?"minute":"minutes"}">\n            <div class="countdownProp__item">\n                <span class="countdownProp__num">${formatTimerItems(o<10?"0"+o:o)}</span> \n                <span class="countdownProp__title">мин</span> \n            </div>\n            <span class="_dots">:</span> \n        </div>\n        <div class="countdownProp" date-count="${1==a?"second":"seconds"}">\n            <div class="countdownProp__item">\n                <span class="countdownProp__num">${formatTimerItems(a<10?"0"+a:a)}</span> \n                <span class="countdownProp__title">сек</span>\n            </div>\n        </div>\n        `)};t(s);let o=setInterval((function(){let a=n.until-(new Date).getTime();if(a<=0)return clearInterval(o),!1;s.days=Math.floor(a/864e5),s.hours=Math.floor(a%864e5/36e5),s.minutes=Math.floor(a%36e5/6e4),s.seconds=Math.floor(a%6e4/1e3),t(s)}),1e3);return this},snow:function(n){n=jQuery.extend({amount:60},n);let s=(n,s)=>Math.random()*(s-n)+n,t='<svg class="snow" xmlns="http://www.w3.org/2000/svg">';for(let o=0;o<n.amount;o++)t+=`<circle class="particle" r="${s(1,3)}" cx="${s(1,100)}%" cy="-${s(1,100)}" />`;t+="</svg>",this.replaceWith(t)}});const n=new Date,s=n.getDate(),t=n.getMonth(),o=s>=31&&t+1===6?n.getFullYear()+1:n.getFullYear();$(".countdown").countdown({until:new Date("Jun, 31, "+o)}),$(".snow").snow({amount:100})}));
$(".catalog-props .more-btn").click((function(){$(this).parents(".catalog-props").toggleClass("_show-all")})),$(".catalog-desc .more-btn").click((function(){$(this).parents(".catalog-desc").toggleClass("_show-all")})),$(".review-card__more").click((function(){$(this).parents(".review-card").toggleClass("_show-all")})),$(".product-item__point").click((function(){$(this).parents(".product-item").hasClass("_open")?$(".product-item").removeClass("_open"):($(".product-item").removeClass("_open"),$(this).parents(".product-item").addClass("_open"))}));
$(".rating-block").each((function(t,i){let a=+$(i).attr("data-rating")/5*100;$(i).find(".rating__fill").css("width",a+"%"),$(i).find(".rating-block__num").html($(i).attr("data-rating"));let n=$(i).find(".rating");$(n).mousemove((function(t){let a=t.offsetX/$(this).outerWidth()*100;$(i).find(".rating__fill").css("width",a+"%")})),$(n).mouseleave((function(t){let a=+$(i).attr("data-rating")/5*100;$(i).find(".rating__fill").css("width",a+"%"),$(i).find(".rating-block__num").html($(i).attr("data-rating"))})),$(n).click((function(t){let a=t.offsetX/$(this).outerWidth()*100;$(i).attr("data-rating",(5*a/100).toFixed(1)),$(i).find(".rating-block__num").html($(i).attr("data-rating"))}))}));
$(".cart-colors__show").click((function(){$(this).parents(".cart-colors").toggleClass("_active"),$(this).siblings(".cart-colors__hidden").slideToggle()})),$(".cart-map__search input").on("input",(function(){$(this).val().length>3&&$(this).parents(".cart-map__search").addClass("_show")})),$(document).mouseup((function(e){let a=$(".cart-map__search");a.is(e.target)||0!==a.has(e.target).length||$(a).hasClass("_show")&&$(a).removeClass("_show")})),$('[name="reqType"]').change((function(){let e=$(this).attr("data-value");$(".order-requisites__view").removeClass("_active"),$(".order-requisites__view."+e).addClass("_active")})),$('[name="deliveryTariff"]').change((function(){let e=$(this).attr("data-value");$(".delivery-tariff__view").removeClass("_active"),$(".delivery-tariff__view."+e).addClass("_active")}));
let body=document.querySelector("body"),modalTogglers=document.querySelectorAll("[data-modal]"),modals=document.querySelectorAll(".modal");function closeModals(){modals.forEach(e=>{e.classList.remove("_active"),body.classList.remove("fixed-body2")})}function openModal(e){closeModals();let o=document.querySelector("#"+e),t=o.querySelectorAll("._close-modal");o.classList.add("_active"),body.classList.add("fixed-body2"),t.forEach(e=>{e.onclick=()=>{o.classList.remove("_active"),body.classList.remove("fixed-body2")}})}modalTogglers.forEach(e=>{e.onclick=function(){openModal(e.getAttribute("data-modal"))}});var getScrollBarSize=function(){var e=window.document.createElement("textarea"),o={visibility:"hidden",position:"absolute",zIndex:"-2147483647",top:"-1000px",left:"-1000px",width:"1000px",height:"1000px",overflow:"scroll",margin:"0",border:"0",padding:"0"},t=void 0!==e.clientWidth&&void 0!==e.offsetWidth;for(var d in o)o.hasOwnProperty(d)&&(e.style[d]=o[d]);return function(){var o=null;return t&&window.document.body&&(window.document.body.appendChild(e),o=[e.offsetWidth-e.clientWidth,e.offsetHeight-e.clientHeight],window.document.body.removeChild(e)),document.documentElement.style.setProperty("--scrollWidth",o[0]+"px"),o}}();
function fix100vh(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")}window.addEventListener("DOMContentLoaded",()=>{fix100vh(),window.addEventListener("resize",()=>{fix100vh(),getScrollBarSize()}),getScrollBarSize(),$('input[type="tel"]').mask("+7 (999) 999-99-99",{autoclear:!1},{placeholder:"+7 (   )    -  -  "})});
//# sourceMappingURL=../sourcemaps/main.min.js.map
